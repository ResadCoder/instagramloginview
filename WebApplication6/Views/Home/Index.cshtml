@{
    Layout = "_Layout";
    ViewData["Title"] = "Login";
    var notificationMessage = ViewBag.Error ?? ViewBag.Message;
}

<div id="content-container">
    <form id="login-post" method="post">
        <div class="inputs-container">
            <input type="text" name="Username" placeholder="Phone number, username or email" />
        </div>
        <div class="inputs-container" style="position: relative;">
            <input type="password" name="Password" id="passwordInput" placeholder="Password" style="padding-right: 40px;" />
            <i class="fa fa-eye" id="eyeIcon" style="position: absolute; top: 50%; right: 10px; transform: translateY(-50%);
               cursor: pointer; color: #6c757d; font-size: 1.2rem;"></i>
        </div>
        <button type="submit" class="login-button">Log In</button>
    </form>
</div>

<!-- Notification container -->
<div id="notification" class="toast">@notificationMessage</div>

<style>
    /* Toast style */
    #notification {
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: #333;
        color: #fff;
        padding: 15px 25px;
        border-radius: 5px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.5s ease, transform 0.5s ease;
        z-index: 1000;
    }

    #notification.show {
        opacity: 1;
        pointer-events: auto;
        transform: translateX(0);
    }
</style>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        const notification = document.getElementById('notification');
        if (notification.textContent.trim() !== "") {
            notification.classList.add('show');
            // Removed hide after 3 seconds
        }

        // Password toggle
        const passwordInput = document.getElementById('passwordInput');
        const eyeIcon = document.getElementById('eyeIcon');

        eyeIcon.addEventListener('click', () => {
            const isPassword = passwordInput.type === 'password';
            passwordInput.type = isPassword ? 'text' : 'password';
            eyeIcon.classList.toggle('fa-eye');
            eyeIcon.classList.toggle('fa-eye-slash');
        });
    });
</script>
